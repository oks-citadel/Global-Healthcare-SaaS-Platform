# ==========================================
# Server Configuration
# ==========================================
NODE_ENV=development
PORT=8080
API_VERSION=1.0.0

# ==========================================
# CORS Configuration
# ==========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_MAX=100

# ==========================================
# JWT Configuration
# ==========================================
JWT_SECRET=your-super-secret-key-change-in-production
JWT_EXPIRY=1h
REFRESH_TOKEN_EXPIRY=7d

# ==========================================
# Database Configuration
# ==========================================
DATABASE_URL=postgresql://unified_health:password@localhost:5432/unified_health_dev?connection_limit=10&pool_timeout=10&connect_timeout=5&socket_timeout=60
DIRECT_DATABASE_URL=postgresql://unified_health:password@localhost:5432/unified_health_dev

# Connection Pool Settings
DB_CONNECTION_LIMIT=10
DB_POOL_TIMEOUT=10
DB_CONNECT_TIMEOUT=5
DB_SOCKET_TIMEOUT=60

# Query Settings
DB_QUERY_TIMEOUT=30000
DB_SLOW_QUERY_THRESHOLD=1000

# Retry Settings
DB_MAX_RETRIES=3
DB_RETRY_DELAY=1000
DB_RETRY_BACKOFF=2

# Health Check
DB_HEALTH_CHECK_INTERVAL=30000

# Read Replica (Optional)
DB_READ_REPLICA_URL=

# Backup Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=unified_health_dev
DB_USER=unified_health
BACKUP_DIR=./infrastructure/backups/database
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=
BACKUP_COMPRESSION=gzip

# Cloud Storage for Backups (Optional)
CLOUD_STORAGE_ENABLED=false
CLOUD_STORAGE_PROVIDER=aws
AWS_S3_BUCKET=unified-health-backups
AWS_S3_REGION=us-east-1

# Backup Notifications (Optional)
NOTIFICATION_ENABLED=false
NOTIFICATION_EMAIL=
NOTIFICATION_WEBHOOK=

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ==========================================
# Encryption Configuration
# ==========================================
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# ==========================================
# AWS Configuration
# ==========================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS S3 Storage
AWS_S3_BUCKET=healthcare-documents

# AWS Secrets Manager (Optional)
AWS_SECRETS_MANAGER_ENABLED=false

# ==========================================
# Storage Configuration
# ==========================================
STORAGE_URL=https://storage.example.com
STORAGE_CONTAINER=documents

# ==========================================
# Virus Scanning Configuration (ClamAV)
# ==========================================
# Enable/disable virus scanning for file uploads
VIRUS_SCAN_ENABLED=true

# Set to 'true' to reject all files if virus scanner is unavailable
# Recommended for production healthcare environments
VIRUS_SCAN_REQUIRED=false

# ClamAV daemon connection settings
# Option 1: TCP connection (recommended for Docker/Kubernetes)
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# Option 2: Unix socket connection (recommended for local installations)
# CLAMAV_SOCKET=/var/run/clamav/clamd.ctl

# Scan timeout in milliseconds (default: 60 seconds)
CLAMAV_TIMEOUT=60000

# Quarantine bucket for infected files (AWS S3)
AWS_QUARANTINE_BUCKET=healthcare-quarantine

# ==========================================
# Logging Configuration
# ==========================================
LOG_LEVEL=info

# ==========================================
# Firebase Cloud Messaging (FCM) - Android/iOS Push
# ==========================================
# Get these from Firebase Console: https://console.firebase.google.com/
# Project Settings > Service Accounts > Generate New Private Key
# Download the JSON file and extract these values:
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"

# ==========================================
# Apple Push Notification Service (APNS) - iOS Push
# ==========================================
# Get these from Apple Developer Console: https://developer.apple.com/account/
# Certificates, Identifiers & Profiles > Keys > Create New Key (APNs)
# Download the .p8 file and copy its contents for APNS_PRIVATE_KEY
APNS_KEY_ID=your-10-char-key-id
APNS_TEAM_ID=your-10-char-team-id
APNS_BUNDLE_ID=com.unifiedhealth.app
APNS_PRODUCTION=false
APNS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"

# ==========================================
# Web Push (VAPID) - Web Browser Push
# ==========================================
# Generate VAPID keys using: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:support@unifiedhealth.com

# ==========================================
# Email Configuration (for email notifications)
# ==========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@unifiedhealth.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=UnifiedHealth <noreply@unifiedhealth.com>

# ==========================================
# SMS Configuration (for SMS notifications)
# ==========================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ==========================================
# Stripe Payment Configuration
# ==========================================
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ==========================================
# Application URLs
# ==========================================
APP_URL=https://unifiedhealth.com
SUPPORT_EMAIL=support@unifiedhealth.com
SUPPORT_PHONE=+1-800-UNIFIED
BILLING_PHONE=+1-800-BILLING
