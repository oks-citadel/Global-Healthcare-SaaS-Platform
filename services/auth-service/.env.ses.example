# ==========================================
# AWS SES Email Configuration
# ==========================================
# This file contains all AWS SES specific configuration options.
# Copy these settings to your .env file and configure as needed.

# ==========================================
# Email Provider Settings
# ==========================================

# Email provider to use: 'ses' (recommended) or 'sendgrid'
EMAIL_PROVIDER=ses

# Enable/disable email sending
# Default: false in development, true in production
EMAIL_ENABLED=true

# ==========================================
# Sender Configuration
# ==========================================

# The email address that emails will be sent from
# IMPORTANT: This address must be verified in AWS SES
EMAIL_FROM_ADDRESS=noreply@theunifiedhealth.com

# The display name for the sender
EMAIL_FROM_NAME=The Unified Health

# Support email address (shown in email footers)
EMAIL_SUPPORT_ADDRESS=support@theunifiedhealth.com

# ==========================================
# AWS SES Configuration
# ==========================================

# AWS Region where your SES is configured
# Common regions: us-east-1, us-west-2, eu-west-1
AWS_SES_REGION=us-east-1

# AWS Credentials
# Option 1: Explicit credentials (not recommended for production)
# AWS_SES_ACCESS_KEY_ID=your-access-key-id
# AWS_SES_SECRET_ACCESS_KEY=your-secret-access-key

# Option 2 (Recommended): Use IAM roles or environment variables
# When running on AWS (EC2, ECS, Lambda), use IAM roles instead
# The SDK will automatically use AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
# environment variables if set, or the instance's IAM role

# SES Configuration Set (optional)
# Used for tracking email delivery, opens, clicks, bounces
# Create in AWS Console: SES > Configuration Sets
# AWS_SES_CONFIGURATION_SET=your-configuration-set-name

# ==========================================
# SES Mode Settings
# ==========================================

# Sandbox Mode
# When true, emails can only be sent to verified email addresses
# Set to false when your SES account is out of sandbox mode
# Default: true in development, false in production
AWS_SES_SANDBOX_MODE=false

# ==========================================
# Rate Limiting & Retry Configuration
# ==========================================

# Maximum number of retry attempts for failed emails
AWS_SES_MAX_RETRIES=3

# Initial delay between retries (in milliseconds)
# Uses exponential backoff: delay * 2^attempt
AWS_SES_RETRY_DELAY=1000

# Rate limit for email sending (emails per second)
# SES sandbox: 1/sec, Production: varies (check your quota)
# Check your quota: AWS Console > SES > Sending Statistics
AWS_SES_RATE_LIMIT_PER_SECOND=14

# ==========================================
# Application URLs
# ==========================================

# Base URL of your application (used in email links)
APP_URL=https://app.theunifiedhealth.com

# ==========================================
# SES Setup Instructions
# ==========================================
#
# 1. Verify your domain or email address in SES:
#    AWS Console > SES > Verified identities > Create identity
#
# 2. If in sandbox mode, verify all recipient email addresses too
#
# 3. Request production access:
#    AWS Console > SES > Account dashboard > Request production access
#
# 4. Set up DKIM for better deliverability:
#    AWS Console > SES > Verified identities > [your domain] > DKIM
#
# 5. Configure SPF record in your DNS
#
# 6. (Optional) Create a Configuration Set for tracking:
#    AWS Console > SES > Configuration Sets > Create set
#
# 7. (Recommended) Set up IAM role with SES permissions:
#    - ses:SendEmail
#    - ses:SendRawEmail
#    - ses:GetSendQuota
#
# For more information:
# https://docs.aws.amazon.com/ses/latest/dg/setting-up.html
