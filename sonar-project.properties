# ============================================
# UnifiedHealth Platform - SonarQube Configuration
# Static Application Security Testing (SAST)
# ============================================

# Project Identification
sonar.projectKey=unifiedhealth-platform
sonar.projectName=UnifiedHealth Global Healthcare Platform
sonar.projectVersion=1.0.0
sonar.organization=unifiedhealth-global

# Source Code Settings
sonar.sources=apps,services,packages
sonar.tests=apps,services,packages
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/__tests__/**

# Exclusions
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/.next/**,\
  **/out/**,\
  **/*.config.js,\
  **/*.config.ts,\
  **/migrations/**,\
  **/*.d.ts

sonar.test.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**

sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/__tests__/**,\
  **/__mocks__/**,\
  **/migrations/**

# Language Settings
sonar.language=ts
sonar.sourceEncoding=UTF-8

# TypeScript/JavaScript Settings
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Test Coverage
sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx

# ============================================
# Code Quality Gates
# ============================================

# Quality Gate Conditions (configured in SonarQube UI as well)
# - Coverage: >= 80%
# - Duplications: <= 3%
# - Maintainability Rating: A
# - Reliability Rating: A
# - Security Rating: A
# - Security Hotspots: 100% reviewed

# ============================================
# Security Configuration
# ============================================

# Security Rules
sonar.security.hotspots.enabled=true

# OWASP Top 10 Coverage
sonar.security.owasp.enable=true

# SANS Top 25 Coverage
sonar.security.sans.enable=true

# CWE Coverage
sonar.security.cwe.enable=true

# ============================================
# Analysis Properties
# ============================================

# Duplications
sonar.cpd.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/migrations/**

# Code Complexity
sonar.complexity.threshold=15

# File Size
sonar.filesize.limit=500

# ============================================
# Security Hotspot Categories
# ============================================

# These are detected automatically but listed for reference:
# - SQL Injection
# - XSS (Cross-Site Scripting)
# - CSRF (Cross-Site Request Forgery)
# - Path Traversal
# - Command Injection
# - LDAP Injection
# - XXE (XML External Entity)
# - Insecure Deserialization
# - Weak Cryptography
# - Hardcoded Credentials
# - Sensitive Data Exposure
# - Insufficient Logging
# - Broken Authentication
# - Session Management Issues

# ============================================
# Healthcare-Specific Security (HIPAA/GDPR)
# ============================================

# Custom Rules for Healthcare Compliance
# (Define custom rules in SonarQube for PHI/PII handling)

# ============================================
# Integration Settings
# ============================================

# SCM Settings
sonar.scm.provider=git
sonar.scm.disabled=false

# Branch Analysis
sonar.branch.name=${BRANCH_NAME}

# Pull Request Analysis
sonar.pullrequest.key=${PR_NUMBER}
sonar.pullrequest.branch=${PR_BRANCH}
sonar.pullrequest.base=${PR_BASE}

# ============================================
# Performance Settings
# ============================================

# Analysis timeout
sonar.analysis.timeout=60

# Scanner properties
sonar.scanner.metadataFilePath=.scannerwork/report-task.txt

# ============================================
# Reporting
# ============================================

# Working directory for analysis
sonar.working.directory=.scannerwork

# Links
sonar.links.homepage=https://github.com/unifiedhealth/platform
sonar.links.ci=https://github.com/unifiedhealth/platform/actions
sonar.links.scm=https://github.com/unifiedhealth/platform
sonar.links.issue=https://github.com/unifiedhealth/platform/issues

# ============================================
# Module-Specific Settings
# ============================================

# API Service
sonar.modules=api,web,mobile

# API Module
api.sonar.projectName=API Service
api.sonar.sources=services/api/src
api.sonar.tests=services/api/src
api.sonar.test.inclusions=**/*.test.ts,**/*.spec.ts

# Web App Module
web.sonar.projectName=Web Application
web.sonar.sources=apps/web/src
web.sonar.tests=apps/web/src
web.sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx

# Mobile App Module
mobile.sonar.projectName=Mobile Application
mobile.sonar.sources=apps/mobile/src
mobile.sonar.tests=apps/mobile/src
mobile.sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx
