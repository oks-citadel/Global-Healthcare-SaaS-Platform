---
# ============================================
# UnifiedHealth API - ConfigMap
# Non-sensitive configuration values
# ============================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: unified-health-config
  namespace: unified-health
  labels:
    app: unified-health-api
    component: configuration
data:
  # Application Configuration
  NODE_ENV: "production"
  PORT: "8080"
  LOG_LEVEL: "info"

  # Service URLs
  redis-host: "unified-health-redis.unified-health.svc.cluster.local"
  redis-port: "6379"

  # Database Configuration (non-sensitive)
  database-host: "unified-health-postgres.postgres.database.azure.com"
  database-port: "5432"
  database-name: "unifiedhealth"
  database-ssl-mode: "require"
  database-pool-size: "20"
  database-connection-timeout: "30000"

  # Feature Flags
  feature-hipaa-compliance: "true"
  feature-gdpr-compliance: "true"
  feature-multi-tenancy: "true"
  feature-real-time-notifications: "true"
  feature-advanced-analytics: "true"
  feature-ai-diagnostics: "false"
  feature-telemedicine: "true"
  feature-appointment-scheduling: "true"
  feature-prescription-management: "true"
  feature-billing-integration: "true"

  # API Configuration
  api-rate-limit-per-minute: "100"
  api-rate-limit-per-hour: "5000"
  api-timeout-seconds: "30"
  api-max-payload-size: "10mb"

  # CORS Configuration
  cors-origins: "https://app.unifiedhealth.com,https://admin.unifiedhealth.com"
  cors-methods: "GET,POST,PUT,DELETE,PATCH"
  cors-credentials: "true"

  # Session Configuration
  session-duration: "3600"
  session-refresh-threshold: "300"

  # Cache Configuration
  cache-ttl-default: "300"
  cache-ttl-user-data: "600"
  cache-ttl-static-data: "3600"

  # Health Check Configuration
  health-check-path: "/health"
  readiness-check-path: "/ready"
  metrics-path: "/metrics"

  # File Upload Configuration
  upload-max-file-size: "10485760"
  upload-allowed-types: "image/jpeg,image/png,application/pdf,application/dicom"

  # Email Service Configuration
  email-service-url: "https://email-service.unified-health.svc.cluster.local"
  email-from-address: "noreply@unifiedhealth.com"

  # Notification Service Configuration
  notification-service-url: "https://notification-service.unified-health.svc.cluster.local"

  # Audit Logging
  audit-log-enabled: "true"
  audit-log-retention-days: "2555"

  # Security Headers
  security-hsts-enabled: "true"
  security-csp-enabled: "true"
  security-xss-protection: "true"

  # Monitoring & Observability
  tracing-enabled: "true"
  tracing-sample-rate: "0.1"
  metrics-enabled: "true"

  # Timezone
  timezone: "UTC"
