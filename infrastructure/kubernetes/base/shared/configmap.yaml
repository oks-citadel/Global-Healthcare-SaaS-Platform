apiVersion: v1
kind: ConfigMap
metadata:
  name: shared-config
  labels:
    app: healthcare-platform
    component: shared
data:
  # Environment
  environment: "production"
  region: "us-east-1"
  deployment_zone: "americas"

  # Logging
  log_level: "info"
  log_format: "json"

  # Service Discovery
  service_mesh_enabled: "true"

  # Database
  database_pool_size: "20"
  database_timeout: "30s"
  database_max_connections: "100"

  # Cache
  redis_pool_size: "10"
  redis_timeout: "5s"
  cache_ttl: "3600"

  # API Gateway
  rate_limit_per_minute: "1000"
  request_timeout: "30s"
  max_request_size: "10MB"

  # Message Queue
  kafka_brokers: "kafka-broker-1:9092,kafka-broker-2:9092,kafka-broker-3:9092"
  kafka_topic_prefix: "healthcare"
  kafka_consumer_group: "healthcare-consumers"

  # Observability
  tracing_enabled: "true"
  tracing_sample_rate: "0.1"
  metrics_enabled: "true"
  metrics_port: "9091"

  # ML Services
  ml_model_endpoint: "http://ml-inference-service:8080"
  ml_timeout: "10s"

  # Storage
  s3_endpoint: "https://s3.amazonaws.com"
  lab_results_bucket: "healthcare-lab-results"
  medical_images_bucket: "healthcare-medical-images"

  # FHIR
  fhir_server_url: "https://fhir.healthcare-platform.com"
  fhir_version: "R4"

  # Security
  enable_encryption: "true"
  tls_version: "1.3"
  cors_allowed_origins: "https://app.healthcare-platform.com,https://admin.healthcare-platform.com"

  # Feature Flags
  feature_ai_diagnostics: "true"
  feature_telemedicine: "true"
  feature_iot_integration: "true"
  feature_blockchain_records: "false"

  # Compliance
  hipaa_mode: "true"
  audit_logging: "true"
  data_retention_days: "2555"

  # Multi-tenancy
  tenant_isolation: "strict"
  tenant_db_strategy: "shared-schema"
