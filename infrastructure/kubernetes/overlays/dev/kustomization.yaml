---
# ============================================
# The Unified Health - Development Overlay
# Dev-specific configurations for unifiedhealth-dev namespace
# ============================================
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Reference to base configuration
resources:
  - ../../base/services/web
  - namespace.yaml

# Namespace for development
namespace: unifiedhealth-dev

# Name prefix for all resources (optional for dev)
namePrefix: dev-

# Common labels for development
commonLabels:
  environment: dev
  tier: development

# Common annotations for development
commonAnnotations:
  environment: dev
  managed-by: kustomize

# Development-specific replicas
replicas:
  - name: web
    count: 1

# Development images with latest tag
images:
  - name: ${AWS_ACCOUNT_ID}.dkr.ecr.${AWS_REGION}.amazonaws.com/unifiedhealth/web
    newTag: latest

# Patches for development
patchesStrategicMerge:
  - patches/web-deployment-patch.yaml

# ConfigMap generator for dev-specific config
configMapGenerator:
  - name: dev-config
    behavior: merge
    literals:
      - ENVIRONMENT=dev
      - DEBUG_MODE=true
      - LOG_LEVEL=debug

# Secret generator for development
secretGenerator:
  - name: dev-secrets
    type: Opaque
    literals: []
