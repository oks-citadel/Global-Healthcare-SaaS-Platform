# ============================================
# External Secrets Kustomization
# ============================================
# Manages External Secrets Operator resources for unified-health namespace
#
# Usage:
#   kubectl apply -k infrastructure/kubernetes/external-secrets/
#
# Prerequisites:
# 1. External Secrets Operator installed
# 2. AWS credentials configured (via IRSA or other method)
# 3. Secrets created in AWS Secrets Manager
# ============================================
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: unified-health

# Common labels applied to all resources
commonLabels:
  app.kubernetes.io/part-of: unified-health
  app.kubernetes.io/managed-by: kustomize

resources:
  - cluster-secret-store.yaml
  - external-secret-database.yaml
  - external-secret-redis.yaml
  - external-secret-jwt.yaml
  - external-secret-third-party.yaml
  - external-secret-hipaa.yaml
