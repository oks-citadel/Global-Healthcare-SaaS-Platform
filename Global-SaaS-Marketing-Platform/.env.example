# ============================================================================
# Global SaaS Marketing Platform - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in the values for your environment.
# NEVER commit the .env file to version control.
# ============================================================================

# ============================================================================
# Application Settings
# ============================================================================
NODE_ENV=development
LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================================================
# AWS Configuration
# Note: In production, use IRSA (IAM Roles for Service Accounts)
# For local development, configure AWS CLI or use LocalStack
# ============================================================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=

# LocalStack endpoint (for local development)
AWS_ENDPOINT_URL=http://localhost:4566

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL (Main Database)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/marketing

# Individual service databases (optional - for isolation)
SEO_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/seo_service
CONTENT_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/content_service
ANALYTICS_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/analytics_service
PERSONALIZATION_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/personalization_service
LIFECYCLE_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lifecycle_service
GROWTH_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/growth_service
COMMERCE_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/commerce_service
REPUTATION_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/reputation_service
LOCALIZATION_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/localization_service
AI_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ai_service
COMMUNITY_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/community_service

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS_ENABLED=false

# ============================================================================
# OpenSearch Configuration
# ============================================================================
OPENSEARCH_URL=http://localhost:9200
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=

# ============================================================================
# S3 / MinIO Configuration
# ============================================================================
S3_ENDPOINT=http://localhost:9000
S3_PUBLIC_ASSETS_BUCKET=marketing-public-assets
S3_PRIVATE_BUCKET=marketing-private
S3_DATA_LAKE_BUCKET=marketing-data-lake
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=minio123

# ============================================================================
# Kinesis / Event Streaming
# ============================================================================
KINESIS_EVENTS_STREAM=marketing-events
KINESIS_CLICKSTREAM_STREAM=marketing-clickstream
KINESIS_ANALYTICS_STREAM=marketing-analytics

# ============================================================================
# SQS / Message Queues
# ============================================================================
SQS_EVENTS_QUEUE_URL=http://localhost:4566/000000000000/marketing-events
SQS_NOTIFICATIONS_QUEUE_URL=http://localhost:4566/000000000000/marketing-notifications
SQS_EMAIL_QUEUE_URL=http://localhost:4566/000000000000/marketing-email-processing

# ============================================================================
# SNS / Notifications
# ============================================================================
SNS_ALERTS_TOPIC_ARN=arn:aws:sns:us-east-1:000000000000:marketing-alerts
SNS_NOTIFICATIONS_TOPIC_ARN=arn:aws:sns:us-east-1:000000000000:marketing-notifications

# ============================================================================
# Email Configuration (SES / MailHog)
# ============================================================================
# For local development, use MailHog
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=

# SES configuration (production)
SES_FROM_EMAIL=noreply@example.com
SES_REGION=us-east-1

# ============================================================================
# CloudFront CDN
# ============================================================================
CLOUDFRONT_DISTRIBUTION_ID=
CLOUDFRONT_DOMAIN=

# ============================================================================
# Service URLs (Local Development)
# ============================================================================
SEO_SERVICE_URL=http://localhost:3001
CONTENT_SERVICE_URL=http://localhost:3002
ANALYTICS_SERVICE_URL=http://localhost:3003
PERSONALIZATION_SERVICE_URL=http://localhost:3004
LIFECYCLE_SERVICE_URL=http://localhost:3005
GROWTH_SERVICE_URL=http://localhost:3006
COMMERCE_SERVICE_URL=http://localhost:3007
REPUTATION_SERVICE_URL=http://localhost:3008
LOCALIZATION_SERVICE_URL=http://localhost:3009
AI_SERVICE_URL=http://localhost:3010
COMMUNITY_SERVICE_URL=http://localhost:3011

# ============================================================================
# Authentication & Security
# ============================================================================
# JWT Configuration
JWT_SECRET=your-development-jwt-secret-change-in-production
JWT_REFRESH_SECRET=your-development-refresh-secret-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption Key (32 bytes for AES-256)
ENCRYPTION_KEY=your-32-character-encryption-key!

# API Keys (for rate limiting and authentication)
API_KEY_HEADER=X-API-Key

# ============================================================================
# Feature Flags
# ============================================================================
FEATURE_FLAGS_TABLE=marketing-feature-flags
FEATURE_FLAGS_ENABLED=true

# ============================================================================
# Observability
# ============================================================================
# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Distributed Tracing (Jaeger)
TRACING_ENABLED=true
JAEGER_ENDPOINT=http://localhost:4318/v1/traces
OTEL_SERVICE_NAME=marketing-platform

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================================================
# SEO Service Specific
# ============================================================================
SEO_DEFAULT_LOCALE=en
SEO_SUPPORTED_LOCALES=en,es,fr,de,ja,zh
SEO_SITEMAP_MAX_URLS=50000
SEO_AUDIT_MAX_PAGES=1000
CRAWLER_USER_AGENT=MarketingPlatformBot/1.0

# ============================================================================
# AI Service Specific
# ============================================================================
# OpenAI (optional - for content generation)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Amazon Bedrock (optional)
BEDROCK_MODEL_ID=anthropic.claude-v2

# ============================================================================
# Commerce Service Specific
# ============================================================================
# Stripe (for payments)
STRIPE_SECRET_KEY=sk_test_
STRIPE_WEBHOOK_SECRET=whsec_
STRIPE_PUBLISHABLE_KEY=pk_test_

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ============================================================================
# CORS Configuration
# ============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# Healthcheck
# ============================================================================
HEALTHCHECK_PATH=/health
HEALTHCHECK_PORT=3000
